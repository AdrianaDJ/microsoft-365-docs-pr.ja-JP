---
title: コンテンツ検索を一括編集する
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
ms.date: 12/29/2016
audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MOE150
- MET150
ms.assetid: 39e4654a-9588-41f6-892b-c33ab57bfbe2
ms.custom:
- seo-marvel-apr2020
description: '[セキュリティとコンプライアンスセンター] の [一括検索エディター] を使用して、1つまたは複数のコンテンツ検索のクエリとコンテンツの場所をすばやく変更できます。'
ms.openlocfilehash: 2bbe8248a82356a217557469b6639e28607be13e
ms.sourcegitcommit: a45cf8b887587a1810caf9afa354638e68ec5243
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/05/2020
ms.locfileid: "44035525"
---
# <a name="bulk-edit-content-searches"></a>コンテンツ検索を一括編集する

コンテンツ検索ツールの一括検索エディターを使用して、複数の検索を同時に編集できます。 このツールを使用すると、1つまたは複数の検索のクエリとコンテンツの場所をすばやく変更できます。 その後、検索を再実行して、変更された検索の新しい推定結果を取得することができます。 エディターでは、Microsoft Excel ファイルまたはテキストファイルからクエリとコンテンツの場所をコピーして貼り付けることもできます。 つまり、検索統計ツールを使用して、1つまたは複数の検索の統計を表示したり、統計情報を CSV ファイルにエクスポートして、Excel でクエリとコンテンツの場所を編集することができます。 次に、一括検索エディターを使用して、変更されたクエリとコンテンツの場所を検索に追加します。 1つまたは複数の検索を変更した後、それらを再起動して、新しい予測される検索結果を取得することができます。
  
検索統計ツールの使用方法の詳細については、「[コンテンツ検索結果のキーワード統計情報を表示](view-keyword-statistics-for-content-search.md)する」を参照してください。
  
## <a name="use-the-bulk-search-editor-to-change-queries"></a>一括検索エディターを使用してクエリを変更する

1. に[https://protection.office.com](https://protection.office.com)移動し、[**検索** \> **コンテンツ検索**] を選択します。
    
2. 検索の一覧で、1つ以上の検索を選択し、[**一括検索エディター** ![の一括検索エディター](../media/1ddb3d18-2f00-4a7b-98a6-817ca5ec7014.png)] を選択します。
    
    ![1つ以上の検索を選択し、[一括検索エディター] を選択する](../media/600c9716-89a2-4451-b111-fa7cfaad2006.png)
  
    次の情報が、一括検索エディターの [**クエリ**] ページに表示されます。 
    
    ![[一括検索エディター] ページに、選択した検索のクエリが表示されます。](../media/189659af-cc78-4479-b0bc-a93decad2f6c.png)
  
    a.  [**検索**] 列には、コンテンツ検索の名前が表示されます。 前述したように、複数の検索のクエリを編集できます。 
    
    b. [**クエリ**] 列には、[**検索**] 列にリストされているコンテンツ検索のクエリが表示されます。 キーワードリスト機能を使用してクエリを作成した場合、各キーワードはテキスト * * `(c:s)`で区切られ**ます。これは、キーワードが**or**演算子で接続されていることを示します。さらに、クエリに条件が含まれている場合、キーワードと条件はテキスト * * `(c:c)`で区切られ**ます。 これは、キーワード (またはキーワードのフェーズ) が**and**演算子によって条件に接続されていることを示します。 たとえば、前のスクリーンショットでは、検索 ContosoSearch1 に相当する`customer (c:s) pricing(c:c)(date=2000-01-01..2016-09-30)` kql クエリがになり`(customer OR pricing) AND (date=2002-01-01..2016-09-30)`ます。
    
3. クエリを編集するには、クエリの変更するセルでを選択し、次のいずれかの操作を行います。 このセルは、選択したときに青いボックスで囲まれます。
    
   - 新しいクエリをセルに入力します。 クエリの一部を編集することはできません。 クエリ全体を入力する必要があります。
    
      または
    
    - 新しいクエリをセルに貼り付けます。 この例では、テキストファイルや Excel ファイルなどのファイルからクエリテキストをコピーしていることを前提としています。
    
4. [**クエリ**] ページで1つ以上のクエリを編集した後、[**保存**] を選択します。
    
    変更したクエリは、選択した検索の**クエリ**列に表示されます。 
    
5. [**閉じる**] を選択して、一括検索エディターを閉じます。 
    
6. [**コンテンツ検索**] ページで、編集した検索を選択し、[検索の**開始**] を選択して、変更されたクエリを使用して検索を再開します。 
    
ここでは、一括検索エディターを使用してクエリを編集するためのヒントを示します。
  
- 既存のクエリ ( **Ctrl キー**を使用して) をテキストファイルにコピーします。 テキストファイルのクエリを編集し、変更したクエリをコピーして ( **Ctrl キー**を使用して)、[**クエリ**] ページのセルに貼り付けます。 
    
- 他のアプリケーション (Microsoft Word や Microsoft Excel など) からクエリをコピーすることもできます。 ただし、一括検索エディターを使用して、サポートされていない文字をクエリに誤って追加する可能性があります。 サポートされていない文字を回避するには、[**クエリ**] ページのセルにクエリを入力することをお勧めします。 または、Word または Excel からクエリをコピーして、Microsoft メモ帳などのテキストエディターでファイルに貼り付けることができます。 そのテキスト ファイルを保存し、 **[エンコード]** ドロップダウン リストで **[ANSI]** を選択します。 これにより、書式設定とサポートされていない文字が削除されます。 その後、テキストファイルから [**クエリ] ページ**にクエリをコピーして貼り付けることができます。 
    
  
## <a name="use-the-bulk-search-editor-to-change-content-locations"></a>一括検索エディターを使用してコンテンツの場所を変更する

1. 1つまたは複数の選択した検索に対する一括検索エディターで、[**一括場所エディタを有効にする**] を選択し、ページに表示される [**場所**] リンクを選択します。 
    
    次の情報が、一括検索エディターの [**場所**] ページに表示されます。 
    
    ![[一括場所エディターの有効化] を選択し、コンテンツの場所を追加または削除する場所を選択します。](../media/a5a468ce-bd63-4c53-bc37-ff64cf769e59.png)
  
    a.  **検索するメールボックス**このセクションには、選択したコンテンツ検索の列と、検索に含まれる各メールボックスの行が表示されます。 チェックマークは、そのメールボックスが検索に含まれていることを示します。 メールボックスを検索に追加するには、メールボックスの電子メールアドレスを空白行に入力してから、追加するコンテンツ検索のチェックボックスをオンにします。 または、チェックボックスをオフにして、検索からメールボックスを削除することができます。
    
    b. **検索する SharePoint サイト**このセクションには、選択した各コンテンツ検索に含まれる各 SharePoint および OneDrive サイトの行が表示されます。 チェックマークは、サイトが検索に含まれていることを示します。 検索にサイトを追加するには、サイトの URL を空白行に入力し、追加するコンテンツ検索のチェックボックスをオンにします。 または、チェックボックスをオフにして、検索からサイトを削除することもできます。
    
    c. **その他の検索オプション**このセクションは、インデックスのないアイテムとパブリックフォルダーが検索に含まれるかどうかを示します。 それらを含めるには、チェックボックスがオンになっていることを確認します。 それらを削除するには、このチェックボックスをオフにします。
    
2. [**場所**] ページで1つ以上のセクションを編集した後、[**保存**] を選択します。
    
    変更されたコンテンツの場所は、選択した検索の該当するセクションに表示されます。
    
3. [**閉じる**] を選択して、一括検索エディターを閉じます。 
    
4. [**コンテンツ検索**] ページで、編集した検索を選択し、[検索の**開始**] を選択して、改訂されたコンテンツの場所を使用して検索を再開します。 
    
ここでは、一括検索エディターを使用してコンテンツの場所を編集するためのヒントを示します。
  
- コンテンツ検索を編集して、組織内のすべてのメールボックスまたはサイトを検索できるようにするには、[検索**するメールボックス**または**SharePoint サイトに**検索する] セクションに**すべて**空の行を入力し、チェックボックスをオンにします。 
    
- 複数のコンテンツの場所を1つまたは複数の検索に追加するには、テキストファイルまたは Excel ファイルから複数の行をコピーして、[**場所**] ページのセクションに貼り付けます。 新しい場所を追加した後、場所を追加する各検索のチェックボックスをオンにします。 
    
    > [!TIP]
    > 組織内のすべてのユーザーの電子メールアドレスの一覧を生成するには、「[手順 2: ユーザーのリストを生成](search-the-mailbox-and-onedrive-for-business-for-a-list-of-users.md#step-2-generate-a-list-of-users)する」の手順2で PowerShell コマンドを実行します。 または、組織内のすべての OneDrive for business サイトの一覧を生成するには、「[組織内のすべてのユーザーの onedrive の url の一覧を取得](https://docs.microsoft.com/onedrive/list-onedrive-urls)する」の手順を実行します。 組織の個人用サイトドメインの URL (たとえば、スクリプトによって作成された OneDrive https://contoso-my.sharepoint.com) for business サイト) を追加する必要があることに注意してください。 電子メールアドレスまたは OneDrive for Business サイトの一覧を作成した後、それらを一括検索エディターの [**場所**] ページにコピーして貼り付けることができます。 
  
- [**保存**] を選択して変更を一括検索エディターに保存すると、検索に追加したメールボックスの電子メールアドレスが検証されます。 メールアドレスが存在しない場合は、メールボックスが見つからないというエラーメッセージが表示されます。 サイトの Url は検証されません。 
  

