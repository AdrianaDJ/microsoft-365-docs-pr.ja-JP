---
title: 高度な検索スキーマの DeviceFileEvents テーブル
description: 高度な検索スキーマの DeviceFileEvents テーブルにあるファイル関連イベントについて説明します。
keywords: 高度な検索、脅威の探し、サイバー脅威の検索、microsoft threat protection、microsoft 365、mtp、m365、search、query、テレメトリ、スキーマ参照、kusto、table、column、data type、description、filecreationevents、DeviceFileEvents、files、path、hash、sha1、sha256、md5
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: microsoft-365-enterprise
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
f1.keywords:
- NOCSH
ms.author: lomayor
author: lomayor
ms.localizationpriority: medium
manager: dansimp
audience: ITPro
ms.collection: M365-security-compliance
ms.topic: article
ms.openlocfilehash: 67749125d2f62f2774c36e6970cf8901b1fd5784
ms.sourcegitcommit: ab10c042e5e9c6a7b2afef930ab0d247a6aa275d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/26/2020
ms.locfileid: "44899305"
---
# <a name="devicefileevents"></a><span data-ttu-id="e0325-104">DeviceFileEvents</span><span class="sxs-lookup"><span data-stu-id="e0325-104">DeviceFileEvents</span></span>

<span data-ttu-id="e0325-105">**適用対象:**</span><span class="sxs-lookup"><span data-stu-id="e0325-105">**Applies to:**</span></span>
- <span data-ttu-id="e0325-106">Microsoft Threat Protection</span><span class="sxs-lookup"><span data-stu-id="e0325-106">Microsoft Threat Protection</span></span>

<span data-ttu-id="e0325-107">`DeviceFileEvents`[高度な](advanced-hunting-overview.md)検索スキーマの表には、ファイルの作成、変更、およびその他のファイルシステムイベントに関する情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="e0325-107">The `DeviceFileEvents` table in the [advanced hunting](advanced-hunting-overview.md) schema contains information about file creation, modification, and other file system events.</span></span> <span data-ttu-id="e0325-108">このテーブルの情報を返すクエリを作成するには、このリファレンスを使用します。</span><span class="sxs-lookup"><span data-stu-id="e0325-108">Use this reference to construct queries that return information from this table.</span></span>

<span data-ttu-id="e0325-109">高度な捜索スキーマのその他のテーブルの詳細については、「[高度な捜索のリファレンス](advanced-hunting-schema-tables.md)」 を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e0325-109">For information on other tables in the advanced hunting schema, [see the advanced hunting reference](advanced-hunting-schema-tables.md).</span></span>

| <span data-ttu-id="e0325-110">列名</span><span class="sxs-lookup"><span data-stu-id="e0325-110">Column name</span></span> | <span data-ttu-id="e0325-111">データ型</span><span class="sxs-lookup"><span data-stu-id="e0325-111">Data type</span></span> | <span data-ttu-id="e0325-112">説明</span><span class="sxs-lookup"><span data-stu-id="e0325-112">Description</span></span> |
|-------------|-----------|-------------|
| `Timestamp` | <span data-ttu-id="e0325-113">日付型</span><span class="sxs-lookup"><span data-stu-id="e0325-113">datetime</span></span> | <span data-ttu-id="e0325-114">イベントが記録された日付と時刻</span><span class="sxs-lookup"><span data-stu-id="e0325-114">Date and time when the event was recorded</span></span> |
| `DeviceId` | <span data-ttu-id="e0325-115">string</span><span class="sxs-lookup"><span data-stu-id="e0325-115">string</span></span> | <span data-ttu-id="e0325-116">コンピューターの一意識別子</span><span class="sxs-lookup"><span data-stu-id="e0325-116">Unique identifier for the machine in the service</span></span> |
| `DeviceName` | <span data-ttu-id="e0325-117">string</span><span class="sxs-lookup"><span data-stu-id="e0325-117">string</span></span> | <span data-ttu-id="e0325-118">コンピューターの完全修飾ドメイン名 (FQDN)</span><span class="sxs-lookup"><span data-stu-id="e0325-118">Fully qualified domain name (FQDN) of the machine</span></span> |
| `ActionType` | <span data-ttu-id="e0325-119">string</span><span class="sxs-lookup"><span data-stu-id="e0325-119">string</span></span> | <span data-ttu-id="e0325-120">イベントをトリガーしたアクティビティの種類</span><span class="sxs-lookup"><span data-stu-id="e0325-120">Type of activity that triggered the event</span></span> |
| `FileName` | <span data-ttu-id="e0325-121">string</span><span class="sxs-lookup"><span data-stu-id="e0325-121">string</span></span> | <span data-ttu-id="e0325-122">記録されたアクションが適用されたファイルの名前</span><span class="sxs-lookup"><span data-stu-id="e0325-122">Name of the file that the recorded action was applied to</span></span> |
| `FolderPath` | <span data-ttu-id="e0325-123">string</span><span class="sxs-lookup"><span data-stu-id="e0325-123">string</span></span> | <span data-ttu-id="e0325-124">記録されたアクションが適用されたファイルを含むフォルダ</span><span class="sxs-lookup"><span data-stu-id="e0325-124">Folder containing the file that the recorded action was applied to</span></span> |
| `SHA1` | <span data-ttu-id="e0325-125">文字列</span><span class="sxs-lookup"><span data-stu-id="e0325-125">string</span></span> | <span data-ttu-id="e0325-126">記録されたアクションが適用されたファイルの SHA-1</span><span class="sxs-lookup"><span data-stu-id="e0325-126">SHA-1 of the file that the recorded action was applied to</span></span> |
| `SHA256` | <span data-ttu-id="e0325-127">文字列</span><span class="sxs-lookup"><span data-stu-id="e0325-127">string</span></span> | <span data-ttu-id="e0325-128">記録されたアクションが適用されたファイルの SHA-256</span><span class="sxs-lookup"><span data-stu-id="e0325-128">SHA-256 of the file that the recorded action was applied to.</span></span> <span data-ttu-id="e0325-129">このフィールドは通常は入力されません。使用可能な場合は、SHA1 列を使用します。</span><span class="sxs-lookup"><span data-stu-id="e0325-129">This field is usually not populated — use the SHA1 column when available.</span></span> |
| `MD5` | <span data-ttu-id="e0325-130">文字列型</span><span class="sxs-lookup"><span data-stu-id="e0325-130">string</span></span> | <span data-ttu-id="e0325-131">記録されたアクションが適用されたファイルの MD5 ハッシュ</span><span class="sxs-lookup"><span data-stu-id="e0325-131">MD5 hash of the file that the recorded action was applied to</span></span> |
| `FileOriginUrl` | <span data-ttu-id="e0325-132">string</span><span class="sxs-lookup"><span data-stu-id="e0325-132">string</span></span> | <span data-ttu-id="e0325-133">ファイルのダウンロード元の URL</span><span class="sxs-lookup"><span data-stu-id="e0325-133">URL where the file was downloaded from</span></span> |
| `FileOriginReferrerUrl` | <span data-ttu-id="e0325-134">string</span><span class="sxs-lookup"><span data-stu-id="e0325-134">string</span></span> | <span data-ttu-id="e0325-135">ダウンロードしたファイルにリンクする web ページの URL</span><span class="sxs-lookup"><span data-stu-id="e0325-135">URL of the web page that links to the downloaded file</span></span> |
| `FileOriginIP` | <span data-ttu-id="e0325-136">string</span><span class="sxs-lookup"><span data-stu-id="e0325-136">string</span></span> | <span data-ttu-id="e0325-137">ファイルのダウンロード元の IP アドレス</span><span class="sxs-lookup"><span data-stu-id="e0325-137">IP address where the file was downloaded from</span></span> |
| `InitiatingProcessAccountDomain` | <span data-ttu-id="e0325-138">string</span><span class="sxs-lookup"><span data-stu-id="e0325-138">string</span></span> | <span data-ttu-id="e0325-139">イベントを担当するプロセスを実行したアカウントのドメイン</span><span class="sxs-lookup"><span data-stu-id="e0325-139">Domain of the account that ran the process responsible for the event</span></span> |
| `InitiatingProcessAccountName` | <span data-ttu-id="e0325-140">string</span><span class="sxs-lookup"><span data-stu-id="e0325-140">string</span></span> | <span data-ttu-id="e0325-141">イベントを担当するプロセスを実行したアカウントのユーザー名</span><span class="sxs-lookup"><span data-stu-id="e0325-141">User name of the account that ran the process responsible for the event</span></span> |
| `InitiatingProcessAccountSid` | <span data-ttu-id="e0325-142">string</span><span class="sxs-lookup"><span data-stu-id="e0325-142">string</span></span> | <span data-ttu-id="e0325-143">イベントを担当するプロセスを実行したアカウントのセキュリティ識別子 (SID)</span><span class="sxs-lookup"><span data-stu-id="e0325-143">Security Identifier (SID) of the account that ran the process responsible for the event</span></span> |
| `InitiatingProcessMD5` | <span data-ttu-id="e0325-144">string</span><span class="sxs-lookup"><span data-stu-id="e0325-144">string</span></span> | <span data-ttu-id="e0325-145">イベントを開始したプロセス (画像ファイル) の MD5 ハッシュ</span><span class="sxs-lookup"><span data-stu-id="e0325-145">MD5 hash of the process (image file) that initiated the event</span></span> |
| `InitiatingProcessSHA1` | <span data-ttu-id="e0325-146">string</span><span class="sxs-lookup"><span data-stu-id="e0325-146">string</span></span> | <span data-ttu-id="e0325-147">イベントを開始したプロセス (画像ファイル) の SHA-1</span><span class="sxs-lookup"><span data-stu-id="e0325-147">SHA-1 of the process (image file) that initiated the event</span></span> |
| `InitiatingProcessSHA256` | <span data-ttu-id="e0325-148">string</span><span class="sxs-lookup"><span data-stu-id="e0325-148">string</span></span> | <span data-ttu-id="e0325-149">イベントを開始したプロセス (イメージファイル) の256。</span><span class="sxs-lookup"><span data-stu-id="e0325-149">SHA-256 of the process (image file) that initiated the event.</span></span> <span data-ttu-id="e0325-150">このフィールドは通常は入力されません。使用可能な場合は、SHA1 列を使用します。</span><span class="sxs-lookup"><span data-stu-id="e0325-150">This field is usually not populated — use the SHA1 column when available.</span></span> |
| `InitiatingProcessFolderPath` | <span data-ttu-id="e0325-151">文字列型</span><span class="sxs-lookup"><span data-stu-id="e0325-151">string</span></span> | <span data-ttu-id="e0325-152">イベントを開始したプロセス (画像ファイル) を含むフォルダー</span><span class="sxs-lookup"><span data-stu-id="e0325-152">Folder containing the process (image file) that initiated the event</span></span> |
| `InitiatingProcessFileName` | <span data-ttu-id="e0325-153">string</span><span class="sxs-lookup"><span data-stu-id="e0325-153">string</span></span> | <span data-ttu-id="e0325-154">イベントを開始したプロセスの名前</span><span class="sxs-lookup"><span data-stu-id="e0325-154">Name of the process that initiated the event</span></span> |
| `InitiatingProcessId` | <span data-ttu-id="e0325-155">int</span><span class="sxs-lookup"><span data-stu-id="e0325-155">int</span></span> | <span data-ttu-id="e0325-156">イベントを開始したプロセスのプロセス ID (PID)</span><span class="sxs-lookup"><span data-stu-id="e0325-156">Process ID (PID) of the process that initiated the event</span></span> |
| `InitiatingProcessCommandLine` | <span data-ttu-id="e0325-157">string</span><span class="sxs-lookup"><span data-stu-id="e0325-157">string</span></span> | <span data-ttu-id="e0325-158">イベントを開始したプロセスを実行するために使用されるコマンドライン</span><span class="sxs-lookup"><span data-stu-id="e0325-158">Command line used to run the process that initiated the event</span></span> |
| `InitiatingProcessCreationTime` | <span data-ttu-id="e0325-159">日付型</span><span class="sxs-lookup"><span data-stu-id="e0325-159">datetime</span></span> | <span data-ttu-id="e0325-160">イベントを開始したプロセスが開始された日付と時刻</span><span class="sxs-lookup"><span data-stu-id="e0325-160">Date and time when the process that initiated the event was started</span></span> |
| `InitiatingProcessIntegrityLevel` | <span data-ttu-id="e0325-161">string</span><span class="sxs-lookup"><span data-stu-id="e0325-161">string</span></span> | <span data-ttu-id="e0325-162">イベントを開始したプロセスの整合性レベル。</span><span class="sxs-lookup"><span data-stu-id="e0325-162">Integrity level of the process that initiated the event.</span></span> <span data-ttu-id="e0325-163">Windows は、インターネットダウンロードから起動されたかどうかなど、特定の特性に基づいてプロセスに整合性レベルを割り当てます。</span><span class="sxs-lookup"><span data-stu-id="e0325-163">Windows assigns integrity levels to processes based on certain characteristics, such as if they were launched from an internet download.</span></span> <span data-ttu-id="e0325-164">これらの整合性レベルは、リソースへのアクセス許可に影響します。</span><span class="sxs-lookup"><span data-stu-id="e0325-164">These integrity levels influence permissions to resources</span></span> |
| `InitiatingProcessTokenElevation` | <span data-ttu-id="e0325-165">string</span><span class="sxs-lookup"><span data-stu-id="e0325-165">string</span></span> | <span data-ttu-id="e0325-166">イベントを開始したプロセスに適用されたユーザーアクセス制御 (UAC) 特権昇格が存在するかどうかを示すトークンの種類</span><span class="sxs-lookup"><span data-stu-id="e0325-166">Token type indicating the presence or absence of User Access Control (UAC) privilege elevation applied to the process that initiated the event</span></span> |
| `InitiatingProcessParentId` | <span data-ttu-id="e0325-167">int</span><span class="sxs-lookup"><span data-stu-id="e0325-167">int</span></span> | <span data-ttu-id="e0325-168">イベントを担当するプロセスを発生させる親プロセスのプロセス ID (PID)</span><span class="sxs-lookup"><span data-stu-id="e0325-168">Process ID (PID) of the parent process that spawned the process responsible for the event</span></span> |
| `InitiatingProcessParentFileName` | <span data-ttu-id="e0325-169">string</span><span class="sxs-lookup"><span data-stu-id="e0325-169">string</span></span> | <span data-ttu-id="e0325-170">イベントを処理するプロセスを生成した親プロセスの名前</span><span class="sxs-lookup"><span data-stu-id="e0325-170">Name of the parent process that spawned the process responsible for the event</span></span> |
| `InitiatingProcessParentCreationTime` | <span data-ttu-id="e0325-171">日付型</span><span class="sxs-lookup"><span data-stu-id="e0325-171">datetime</span></span> | <span data-ttu-id="e0325-172">イベントを担当するプロセスの親が開始された日時</span><span class="sxs-lookup"><span data-stu-id="e0325-172">Date and time when the parent of the process responsible for the event was started</span></span> |
| `RequestProtocol` | <span data-ttu-id="e0325-173">string</span><span class="sxs-lookup"><span data-stu-id="e0325-173">string</span></span> | <span data-ttu-id="e0325-174">ネットワークプロトコル (該当する場合) は、アクティビティの開始に使用されます。 Unknown、Local、SMB、または NFS</span><span class="sxs-lookup"><span data-stu-id="e0325-174">Network protocol, if applicable, used to initiate the activity: Unknown, Local, SMB, or NFS</span></span> |
| `ShareName` | <span data-ttu-id="e0325-175">string</span><span class="sxs-lookup"><span data-stu-id="e0325-175">string</span></span> | <span data-ttu-id="e0325-176">ファイルを含む共有フォルダの名前</span><span class="sxs-lookup"><span data-stu-id="e0325-176">Name of shared folder containing the file</span></span> |
| `RequestSourceIP` | <span data-ttu-id="e0325-177">string</span><span class="sxs-lookup"><span data-stu-id="e0325-177">string</span></span> | <span data-ttu-id="e0325-178">アクティビティを開始したリモートデバイスの IPv4 または IPv6 アドレス</span><span class="sxs-lookup"><span data-stu-id="e0325-178">IPv4 or IPv6 address of the remote device that initiated the activity</span></span> |
| `RequestSourcePort` | <span data-ttu-id="e0325-179">string</span><span class="sxs-lookup"><span data-stu-id="e0325-179">string</span></span> | <span data-ttu-id="e0325-180">アクティビティを開始したリモートデバイスの送信元ポート</span><span class="sxs-lookup"><span data-stu-id="e0325-180">Source port on the remote device that initiated the activity</span></span> |
| `RequestAccountName` | <span data-ttu-id="e0325-181">string</span><span class="sxs-lookup"><span data-stu-id="e0325-181">string</span></span> | <span data-ttu-id="e0325-182">アクティビティをリモートで開始するために使用されるアカウントのユーザー名</span><span class="sxs-lookup"><span data-stu-id="e0325-182">User name of account used to remotely initiate the activity</span></span> |
| `RequestAccountDomain` | <span data-ttu-id="e0325-183">string</span><span class="sxs-lookup"><span data-stu-id="e0325-183">string</span></span> | <span data-ttu-id="e0325-184">アクティビティをリモートで開始するために使用されるアカウントのドメイン</span><span class="sxs-lookup"><span data-stu-id="e0325-184">Domain of the account used to remotely initiate the activity</span></span> |
| `RequestAccountSid` | <span data-ttu-id="e0325-185">string</span><span class="sxs-lookup"><span data-stu-id="e0325-185">string</span></span> | <span data-ttu-id="e0325-186">アクティビティをリモートで開始するために使用されるアカウントのセキュリティ識別子 (SID)</span><span class="sxs-lookup"><span data-stu-id="e0325-186">Security Identifier (SID) of the account used to remotely initiate the activity</span></span> |
| `ReportId` | <span data-ttu-id="e0325-187">long</span><span class="sxs-lookup"><span data-stu-id="e0325-187">long</span></span> | <span data-ttu-id="e0325-188">繰り返しカウンターに基づくイベント識別子。</span><span class="sxs-lookup"><span data-stu-id="e0325-188">Event identifier based on a repeating counter.</span></span> <span data-ttu-id="e0325-189">一意のイベントを識別するには、この列を DeviceName および Timestamp 列と組み合わせて使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e0325-189">To identify unique events, this column must be used in conjunction with the DeviceName and Timestamp columns</span></span> |
| `AppGuardContainerId` | <span data-ttu-id="e0325-190">string</span><span class="sxs-lookup"><span data-stu-id="e0325-190">string</span></span> | <span data-ttu-id="e0325-191">Application Guard がブラウザーのアクティビティを分離するために使用する仮想化されたコンテナーの識別子</span><span class="sxs-lookup"><span data-stu-id="e0325-191">Identifier for the virtualized container used by Application Guard to isolate browser activity</span></span> |
| `SensitivityLabel` | <span data-ttu-id="e0325-192">string</span><span class="sxs-lookup"><span data-stu-id="e0325-192">string</span></span> | <span data-ttu-id="e0325-193">情報保護のためにメール、ファイル、その他のコンテンツに適用されるラベル</span><span class="sxs-lookup"><span data-stu-id="e0325-193">Label applied to an email, file, or other content to classify it for information protection</span></span> |
| `SensitivitySubLabel` | <span data-ttu-id="e0325-194">string</span><span class="sxs-lookup"><span data-stu-id="e0325-194">string</span></span> | <span data-ttu-id="e0325-195">Sublabel は、電子メール、ファイル、またはその他のコンテンツに適用され、情報保護のために分類します。機密サブラベルは、機密ラベルの下にグループ化されますが、個別に処理されます。</span><span class="sxs-lookup"><span data-stu-id="e0325-195">Sublabel applied to an email, file, or other content to classify it for information protection; sensitivity sublabels are grouped under sensitivity labels but are treated independently</span></span> |
| `IsAzureInfoProtectionApplied` | <span data-ttu-id="e0325-196">boolean</span><span class="sxs-lookup"><span data-stu-id="e0325-196">boolean</span></span> | <span data-ttu-id="e0325-197">ファイルが Azure Information Protection によって暗号化されているかどうかを示します</span><span class="sxs-lookup"><span data-stu-id="e0325-197">Indicates whether the file is encrypted by Azure Information Protection</span></span> |

## <a name="related-topics"></a><span data-ttu-id="e0325-198">関連項目</span><span class="sxs-lookup"><span data-stu-id="e0325-198">Related topics</span></span>
- [<span data-ttu-id="e0325-199">高度な検出の概要</span><span class="sxs-lookup"><span data-stu-id="e0325-199">Advanced hunting overview</span></span>](advanced-hunting-overview.md)
- [<span data-ttu-id="e0325-200">クエリ言語の説明</span><span class="sxs-lookup"><span data-stu-id="e0325-200">Learn the query language</span></span>](advanced-hunting-query-language.md)
- [<span data-ttu-id="e0325-201">共有クエリを使用する</span><span class="sxs-lookup"><span data-stu-id="e0325-201">Use shared queries</span></span>](advanced-hunting-shared-queries.md)
- [<span data-ttu-id="e0325-202">デバイスとメール全体で脅威を捜索する</span><span class="sxs-lookup"><span data-stu-id="e0325-202">Hunt for threats across devices and emails</span></span>](advanced-hunting-query-emails-devices.md)
- [<span data-ttu-id="e0325-203">スキーマを理解する</span><span class="sxs-lookup"><span data-stu-id="e0325-203">Understand the schema</span></span>](advanced-hunting-schema-tables.md)
- [<span data-ttu-id="e0325-204">クエリのベスト プラクティスを適用する</span><span class="sxs-lookup"><span data-stu-id="e0325-204">Apply query best practices</span></span>](advanced-hunting-best-practices.md)