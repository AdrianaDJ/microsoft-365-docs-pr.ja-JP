---
title: 概要-高度な検索
description: Microsoft 365 の高度な捜索クエリと、それらを使用してネットワーク内の脅威と弱点を積極的に発見する方法について学習する
keywords: 高度な検索、脅威の探し、サイバー脅威の検索、microsoft threat protection、microsoft 365、mtp、m365、search、query、テレメトリ、カスタム検出、スキーマ、kusto、microsoft 365、Microsoft Threat Protection
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: microsoft-365-enterprise
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
f1.keywords:
- NOCSH
ms.author: lomayor
author: lomayor
ms.localizationpriority: medium
manager: dansimp
audience: ITPro
ms.collection: M365-security-compliance
ms.topic: article
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 8dca8cac2c66147975f71c86b91aee7b36c92cf9
ms.sourcegitcommit: 51f040a4edb8dd52521a5d7b0f7a975986a1af10
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/10/2020
ms.locfileid: "46608335"
---
# <a name="proactively-hunt-for-threats-with-advanced-hunting-in-microsoft-threat-protection"></a><span data-ttu-id="0725a-104">Microsoft Threat Protection の高度な捜索により、脅威を積極的に捜索する</span><span class="sxs-lookup"><span data-stu-id="0725a-104">Proactively hunt for threats with advanced hunting in Microsoft Threat Protection</span></span>

<span data-ttu-id="0725a-105">**適用対象:**</span><span class="sxs-lookup"><span data-stu-id="0725a-105">**Applies to:**</span></span>
- <span data-ttu-id="0725a-106">Microsoft Threat Protection</span><span class="sxs-lookup"><span data-stu-id="0725a-106">Microsoft Threat Protection</span></span>

[!INCLUDE [Prerelease information](../includes/prerelease.md)]

<span data-ttu-id="0725a-107">高度な捜索は、クエリ ベースの脅威の捜索ツールで、最大 30 日間のロー データを検索できます。</span><span class="sxs-lookup"><span data-stu-id="0725a-107">Advanced hunting is a query-based threat-hunting tool that lets you explore up to 30 days of raw data.</span></span> <span data-ttu-id="0725a-108">ネットワーク内のイベントを事前に検査して、興味深いインジケーターとエンティティを見つけることができます。</span><span class="sxs-lookup"><span data-stu-id="0725a-108">You can proactively inspect events in your network to locate interesting indicators and entities.</span></span> <span data-ttu-id="0725a-109">データへの柔軟なアクセスにより、既知の脅威と潜在的な脅威の両方に対して、無制限な捜索が容易になります。</span><span class="sxs-lookup"><span data-stu-id="0725a-109">The flexible access to data facilitates unconstrained hunting for both known and potential threats.</span></span>
<p></p>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE4Bp7O]

<span data-ttu-id="0725a-110">同じ脅威を捜索しているクエリを使用して、カスタムの検出ルールを作成できます。</span><span class="sxs-lookup"><span data-stu-id="0725a-110">You can use the same threat-hunting queries to build custom detection rules.</span></span> <span data-ttu-id="0725a-111">これらのルールは自動的に実行され、違反の疑いがあるアクティビティや誤って構成されたコンピュータといった、さまざまなイベントやシステム状態をチェックして対処します。</span><span class="sxs-lookup"><span data-stu-id="0725a-111">These rules run automatically to check for and respond to various events and system states, including suspected breach activity and misconfigured machines.</span></span>

<span data-ttu-id="0725a-112">この機能は、microsoft [DEFENDER atp での高度な](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-atp/advanced-hunting-overview)検索に似ていますが、microsoft 365 セキュリティセンターでは、MICROSOFT defender Atp、OFFICE 365 Atp、Microsoft Cloud App security、および Azure ATP からのデバイス、メール、アプリ、id に関するデータを含む、さまざまなワークスペースからのデータを参照するクエリをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="0725a-112">The feature is similar to [advanced hunting in Microsoft Defender ATP](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-atp/advanced-hunting-overview), except that in the Microsoft 365 security center, advanced hunting supports queries that look into data from various workspaces, including data about devices, emails, apps, and identities from Microsoft Defender ATP, Office 365 ATP, Microsoft Cloud App Security, and Azure ATP.</span></span> <span data-ttu-id="0725a-113">高度な捜索を使用するには、[Microsoft Threat Protection を有効](mtp-enable.md)にします。</span><span class="sxs-lookup"><span data-stu-id="0725a-113">To use advanced hunting, [turn on Microsoft Threat Protection](mtp-enable.md).</span></span>

## <a name="get-started-with-advanced-hunting"></a><span data-ttu-id="0725a-114">高度な捜索を開始する</span><span class="sxs-lookup"><span data-stu-id="0725a-114">Get started with advanced hunting</span></span>

<span data-ttu-id="0725a-115">高度な捜索をすぐに開始して実行するには、いくつかの手順に従うことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="0725a-115">We recommend going through several steps to quickly get up and running with advanced hunting.</span></span>

| <span data-ttu-id="0725a-116">学習目標</span><span class="sxs-lookup"><span data-stu-id="0725a-116">Learning goal</span></span> | <span data-ttu-id="0725a-117">説明</span><span class="sxs-lookup"><span data-stu-id="0725a-117">Description</span></span> | <span data-ttu-id="0725a-118">リソース</span><span class="sxs-lookup"><span data-stu-id="0725a-118">Resource</span></span> |
|--|--|--|
| <span data-ttu-id="0725a-119">**言語に慣れる**</span><span class="sxs-lookup"><span data-stu-id="0725a-119">**Get a feel for the language**</span></span> | <span data-ttu-id="0725a-120">高度な検索は、 [Kusto クエリ言語](https://docs.microsoft.com/azure/kusto/query/)に基づいており、同じ構文および演算子をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="0725a-120">Advanced hunting is based on [Kusto query language](https://docs.microsoft.com/azure/kusto/query/), supporting the same syntax and operators.</span></span> <span data-ttu-id="0725a-121">最初のクエリを実行して、クエリ言語を学習します。</span><span class="sxs-lookup"><span data-stu-id="0725a-121">Start learning the query language by running your first query.</span></span> | [<span data-ttu-id="0725a-122">クエリ言語の概要</span><span class="sxs-lookup"><span data-stu-id="0725a-122">Query language overview</span></span>](advanced-hunting-query-language.md) |
| <span data-ttu-id="0725a-123">**クエリ結果の使用方法について説明します。**</span><span class="sxs-lookup"><span data-stu-id="0725a-123">**Learn how to use the query results**</span></span> | <span data-ttu-id="0725a-124">グラフと、結果を表示またはエクスポートするさまざまな方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="0725a-124">Learn about charts and various ways you can view or export your results.</span></span> <span data-ttu-id="0725a-125">クエリをすばやく調整する方法、豊富な情報を取得するためのドリルダウン、および応答アクションを実行する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="0725a-125">Explore how you can quickly tweak queries, drill down to get richer information, and take response actions.</span></span> | <span data-ttu-id="0725a-126">- [クエリ結果を操作する](advanced-hunting-query-results.md)</span><span class="sxs-lookup"><span data-stu-id="0725a-126">- [Work with query results](advanced-hunting-query-results.md)</span></span><br><span data-ttu-id="0725a-127">- [クエリ結果に対してアクションを実行する](advanced-hunting-take-action.md)</span><span class="sxs-lookup"><span data-stu-id="0725a-127">- [Take action on query results](advanced-hunting-take-action.md)</span></span> |
| <span data-ttu-id="0725a-128">**スキーマを理解する**</span><span class="sxs-lookup"><span data-stu-id="0725a-128">**Understand the schema**</span></span> | <span data-ttu-id="0725a-129">スキーマとその列のテーブルについて、高レベルで十分に理解してください。</span><span class="sxs-lookup"><span data-stu-id="0725a-129">Get a good, high-level understanding of the tables in the schema and their columns.</span></span> <span data-ttu-id="0725a-130">これにより、データを検索する場所およびクエリの作成方法を決定できます。</span><span class="sxs-lookup"><span data-stu-id="0725a-130">This will help you determine where to look for data and how to construct your queries.</span></span> | [<span data-ttu-id="0725a-131">スキーマ リファレンス</span><span class="sxs-lookup"><span data-stu-id="0725a-131">Schema reference</span></span>](advanced-hunting-schema-tables.md) |
| <span data-ttu-id="0725a-132">**定義済みのクエリを活用する**</span><span class="sxs-lookup"><span data-stu-id="0725a-132">**Leverage predefined queries**</span></span> | <span data-ttu-id="0725a-133">さまざまな脅威の捜索シナリオを網羅する定義済みクエリのコレクションを調べます。</span><span class="sxs-lookup"><span data-stu-id="0725a-133">Explore collections of predefined queries covering different threat hunting scenarios.</span></span> | <span data-ttu-id="0725a-134">- [共有クエリを使用する](advanced-hunting-shared-queries.md)</span><span class="sxs-lookup"><span data-stu-id="0725a-134">- [Use shared queries](advanced-hunting-shared-queries.md)</span></span><br><span data-ttu-id="0725a-135">- [ハントに移動](advanced-hunting-go-hunt.md)</span><span class="sxs-lookup"><span data-stu-id="0725a-135">- [Go hunt](advanced-hunting-go-hunt.md)</span></span> |
| <span data-ttu-id="0725a-136">**クエリを最適化する**</span><span class="sxs-lookup"><span data-stu-id="0725a-136">**Optimize queries**</span></span> | <span data-ttu-id="0725a-137">効率的なクエリおよびメールとデバイスからのデータを結合するクエリを作成する方法を理解します。</span><span class="sxs-lookup"><span data-stu-id="0725a-137">Understand how to create efficient queries and queries that combine data from emails and devices.</span></span> | <span data-ttu-id="0725a-138">- [クエリのベストプラクティス](advanced-hunting-shared-queries.md)</span><span class="sxs-lookup"><span data-stu-id="0725a-138">- [Query best practices](advanced-hunting-shared-queries.md)</span></span> <br><span data-ttu-id="0725a-139">- [複数のデバイスとメールを探します。](advanced-hunting-best-practices.md)</span><span class="sxs-lookup"><span data-stu-id="0725a-139">- [Hunt across devices and emails](advanced-hunting-best-practices.md)</span></span> |
| <span data-ttu-id="0725a-140">**カスタム検出ルールを作成する**</span><span class="sxs-lookup"><span data-stu-id="0725a-140">**Create custom detection rules**</span></span> | <span data-ttu-id="0725a-141">高度な検索クエリを使用して、通知をトリガーし、応答アクションを自動的に適用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="0725a-141">Understand how you can use advanced hunting queries to trigger alerts and apply response actions automatically.</span></span> | <span data-ttu-id="0725a-142">- [ユーザー設定の検出の概要](custom-detections-overview.md)</span><span class="sxs-lookup"><span data-stu-id="0725a-142">- [Custom detections overview](custom-detections-overview.md)</span></span><br><span data-ttu-id="0725a-143">- [カスタム検出ルール](custom-detection-rules.md)</span><span class="sxs-lookup"><span data-stu-id="0725a-143">- [Custom detection rules](custom-detection-rules.md)</span></span> |

## <a name="get-access"></a><span data-ttu-id="0725a-144">アクセス権を取得する</span><span class="sxs-lookup"><span data-stu-id="0725a-144">Get access</span></span>
<span data-ttu-id="0725a-145">高度な検索やその他の[Microsoft の脅威保護](microsoft-threat-protection.md)機能を使用するには、Azure AD で適切なロールが割り当てられている必要があります。</span><span class="sxs-lookup"><span data-stu-id="0725a-145">To use advanced hunting or other [Microsoft Threat Protection](microsoft-threat-protection.md) capabilities, you need to be assigned an appropriate role in Azure AD.</span></span> <span data-ttu-id="0725a-146">エンドポイントデータへのアクセスは、Microsoft Defender ATP のロールベースのアクセス制御の設定の影響を受けます。</span><span class="sxs-lookup"><span data-stu-id="0725a-146">Note that your access to endpoint data is influenced by role-based access control settings in Microsoft Defender ATP.</span></span> [<span data-ttu-id="0725a-147">Microsoft の脅威保護へのアクセスの管理について確認する</span><span class="sxs-lookup"><span data-stu-id="0725a-147">Read about managing access to Microsoft Threat Protection</span></span>](mtp-permissions.md)

## <a name="data-freshness-and-update-frequency"></a><span data-ttu-id="0725a-148">データの鮮度と更新頻度</span><span class="sxs-lookup"><span data-stu-id="0725a-148">Data freshness and update frequency</span></span>
<span data-ttu-id="0725a-149">高度な検索データは、それぞれ異なる方法で2つの異なる種類に分類できます。</span><span class="sxs-lookup"><span data-stu-id="0725a-149">Advanced hunting data can be categorized into two distinct types, each consolidated differently.</span></span>

- <span data-ttu-id="0725a-150">**イベントまたはアクティビティのデータ**—アラート、セキュリティイベント、システムイベント、および定期的な評価に関する表について説明します。</span><span class="sxs-lookup"><span data-stu-id="0725a-150">**Event or activity data** — populates tables about alerts, security events, system events, and routine assessments.</span></span> <span data-ttu-id="0725a-151">高度な検索では、このデータを収集するセンサーが、対応するクラウドサービスに正常に送信された直後に受信します。</span><span class="sxs-lookup"><span data-stu-id="0725a-151">Advanced hunting receives this data almost immediately after the sensors that collect them successfully transmit them to the corresponding cloud services.</span></span> <span data-ttu-id="0725a-152">たとえば、Microsoft Defender ATP および Azure ATP で利用可能になった直後に、ワークステーションまたはドメインコントローラーの正常なセンサーからのイベントデータのクエリを開始することができます。</span><span class="sxs-lookup"><span data-stu-id="0725a-152">For example, you can start to query event data from healthy sensors on workstations or domain controllers almost immediately after they are available on Microsoft Defender ATP and Azure ATP.</span></span>
- <span data-ttu-id="0725a-153">**エンティティデータ**—ユーザーとデバイスに関する統合情報を表に示します。</span><span class="sxs-lookup"><span data-stu-id="0725a-153">**Entity data** — populates tables with consolidated information about users and devices.</span></span> <span data-ttu-id="0725a-154">このデータは、Active Directory エントリなどの比較的静的なデータソースおよびイベントログなどの動的ソースから取得されます。</span><span class="sxs-lookup"><span data-stu-id="0725a-154">This data comes from both relatively static data sources, such as Active Directory entries, and dynamic sources, such as event logs.</span></span> <span data-ttu-id="0725a-155">最新のデータを提供するために、新しい情報で15分ごとにテーブルが更新され、完全には設定されていない行が追加されます。</span><span class="sxs-lookup"><span data-stu-id="0725a-155">To provide fresh data, tables are updated every 15 minutes with any new information, adding rows that might not be fully populated.</span></span> <span data-ttu-id="0725a-156">24時間ごとにデータが統合され、各エンティティについての最新の最も包括的なデータセットを含むレコードが挿入されます。</span><span class="sxs-lookup"><span data-stu-id="0725a-156">Every 24 hours, data is consolidated to insert a record that contains the latest, most comprehensive data set about each entity.</span></span>

## <a name="related-topics"></a><span data-ttu-id="0725a-157">関連項目</span><span class="sxs-lookup"><span data-stu-id="0725a-157">Related topics</span></span>
- [<span data-ttu-id="0725a-158">クエリ言語の説明</span><span class="sxs-lookup"><span data-stu-id="0725a-158">Learn the query language</span></span>](advanced-hunting-query-language.md)
- [<span data-ttu-id="0725a-159">クエリ結果を操作する</span><span class="sxs-lookup"><span data-stu-id="0725a-159">Work with query results</span></span>](advanced-hunting-query-results.md)
- [<span data-ttu-id="0725a-160">クエリ結果に対し、アクションを行う</span><span class="sxs-lookup"><span data-stu-id="0725a-160">Take action on query results</span></span>](advanced-hunting-take-action.md)
- [<span data-ttu-id="0725a-161">共有クエリを使用する</span><span class="sxs-lookup"><span data-stu-id="0725a-161">Use shared queries</span></span>](advanced-hunting-shared-queries.md)
- [<span data-ttu-id="0725a-162">デバイスとメール全体で脅威を捜索する</span><span class="sxs-lookup"><span data-stu-id="0725a-162">Hunt for threats across devices and emails</span></span>](advanced-hunting-query-emails-devices.md)
- [<span data-ttu-id="0725a-163">スキーマを理解する</span><span class="sxs-lookup"><span data-stu-id="0725a-163">Understand the schema</span></span>](advanced-hunting-schema-tables.md)
- [<span data-ttu-id="0725a-164">クエリのベスト プラクティスを適用する</span><span class="sxs-lookup"><span data-stu-id="0725a-164">Apply query best practices</span></span>](advanced-hunting-best-practices.md)
- [<span data-ttu-id="0725a-165">カスタム検出の概要</span><span class="sxs-lookup"><span data-stu-id="0725a-165">Custom detections overview</span></span>](custom-detections-overview.md)
