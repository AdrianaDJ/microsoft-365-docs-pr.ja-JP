---
title: 抽出器を作成する
ms.author: efrene
author: efrene
manager: pamgreen
ms.date: 8/1/2020
audience: admin
ms.topic: article
ms.prod: microsoft-365-enterprise
search.appverid: ''
localization_priority: None
ROBOTS: NOINDEX, NOFOLLOW
description: Microsoft SharePoint の同期 Tex で抽出器を作成する方法について説明します。
ms.openlocfilehash: 740df6769b3a1675e4e1691f84d164312b15567c
ms.sourcegitcommit: 15be7822220041c25fc52565f1c64d252e442d89
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/28/2020
ms.locfileid: "48295458"
---
# <a name="create-an-extractor-preview"></a>抽出器を作成する (プレビュー)

この記事の内容は、Project Cortex のプライベートプレビュー用です。 [詳細については、「Project Cortex](https://aka.ms/projectcortex)」を参照してください。

</br>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE4CL2G]

</br> 

特定のドキュメントの種類の識別と分類を自動化する分類子モデルを作成する前または後に、必要に応じて、モデルに抽出器を追加して、これらのドキュメントから特定の情報を引き出すことができます。 たとえば、ドキュメントライブラリに追加されたすべての契約の *更新* ドキュメントを識別するだけでなく、各ドキュメントのサービスの *開始日* をドキュメントライブラリ内の列として表示することもできます。

抽出するドキュメント内の各エンティティに対して抽出器を作成する必要があります。 サンプルでは、モデルによって識別される各*契約更新*ドキュメントの*サービス開始日*を抽出します。 これは、すべての *契約更新* ドキュメントのドキュメントライブラリに、各ドキュメントのサービス開始日の値を示す列を含むビューを表示する場合に発生する必要があります。

> [!NOTE]
> 抽出器を作成する前に、 [サンプルファイルを追加して](https://docs.microsoft.com/microsoft-365/contentunderstanding/create-a-classifier#add-your-example-files) 、抽出する情報を識別するためにモデルを学習させることができます。 分類子の作成に使用したのと同じサンプルファイルを使用します。

## <a name="name-your-extractor"></a>抽出器の名前

1. モデルのホームページで、[ **作成とトレーニング** ] の [抽出] タイルで、[ **train**tile] をクリックします。
2. **新しいエンティティ抽出**画面で、[**新しい抽出器名**] フィールドに抽出器の名前を入力します。 たとえば、各契約更新文書からサービス開始日を抽出する場合は、「 **サービス開始日** 」という名前を指定します。
3. **[作成]** をクリックします。

## <a name="add-a-label"></a>ラベルを追加する

次の手順では、サンプルのトレーニングファイルで抽出する情報のラベルを作成します。

抽出器を作成すると、抽出ページが開きます。 ここには、サンプルファイルの一覧が表示され、最初のファイルは viewer に表示されるリストにあります。

1. ビューアーから、ファイルから抽出するデータを選択します。 たとえば、 *サービス開始日*を抽出する場合は、最初のファイル (*2019 年10月14日 (月)*) の日付の値を強調表示します。 [ **保存**] をクリックします。  [ラベル] 列の下の [ **ラベル** 付きの例] の一覧に、ファイルからの値が表示されていることを確認する必要があります。
2. [ **次のファイル** ] を選択して、自動保存し、ビューアーのリストで次のファイルを開きます。 または、[ **保存** ] を選択し、[ **ラベル付きの例** ] の一覧から別のファイルを選択します。
3. ビューアーで手順1と2を繰り返し、5つのファイルすべてにラベルが保存されるまで繰り返します。

    ![詳細設定](../media/content-understanding/select-service-start-date.png) 

### <a name="add-a-negative-example"></a>負の例を追加する

分類子を作成するときに負のサンプルファイルを追加するのと同様に、抽出器に負の標本を追加する必要があります。 "サービス開始" の日付の値が含まれていないファイルである必要があります。

1. **ラベル付きの例**のリストから、負の例を選択します。
2. 記事の上部にあるビューアーで、[ **ラベルが存在しません**] を選択します。
3. [**保存**] をクリックします。
 
5つのファイルがラベル付けされると、トレーニングに移行するように通知バナーが表示されます。 その他のドキュメントを選択したり、トレーニングを進めることができます。 

## <a name="add-an-explanation"></a>説明を追加する

この例では、エンティティ形式自体とサンプルドキュメントに含まれるバリエーションに関するヒントを提供する説明を作成します。 たとえば、日付値は次のようなさまざまな形式で指定できます。
- 10/14/2019
- 2019 年 10 月 14 日
- 2019年10月14日 (月)
 

*サービスの開始日*を特定するために、パターンの説明を作成します。

1. [説明] セクションで、[ **新規** ] を選択し、名前 (たとえば、[ *日付*]) を入力します。
2. [種類] で、[ **パターンリスト**] を選択します。
3. [値] で、サンプルファイルに表示される日付のバリエーションを指定します。 たとえば、0/00/0000 として表示される日付形式がある場合は、ドキュメントに表示される次のようなバリエーションを入力します。
    - 0/0/0000
    - 0/00/0000
    - 00/0/0000
    - 00/00/0000
4. **[保存]** を選択します。

### <a name="use-the-explanation-library"></a>説明ライブラリを使用する

日付などのアイテムの説明を作成するには、説明ライブラリを使用する方が、すべてのバリエーションを手動で入力するよりも簡単です。 説明ライブラリは、あらかじめ用意された語句とパターンの説明のセットです。 ライブラリは、日付、電話番号、郵便番号など、一般的な語句やパターンリストのすべての書式を提供します。 

サービスの *開始日* のサンプルの場合、説明ライブラリの *日付* についてあらかじめ用意されている説明を使用する方が効率的です。

1. [ **説明] セクション**で、[ **新規**] を選択し、[ **説明ライブラリから**] を選択します。
2. 説明ライブラリで、[ **日付**] を選択します。 認識される日付のバリエーションをすべて表示できます。
3. **[追加]** を選択します。</br>

    ![説明ライブラリ](../media/content-understanding/explanation-library.png) 

4. [ **説明の作成** ] ページでは、説明ライブラリからの *日付* 情報がフィールドに自動的に入力されます。 **[保存]** を選択します。</br>

    ![日付](../media/content-understanding/date-explanation-library.png) 

## <a name="train-the-model"></a>モデルをトレーニングする 

説明を保存するトレーニングを開始します。 ラベル付けされたサンプルファイルからデータを抽出するのに十分な情報がモデルにある場合は、各ファイルに **一致**するというラベルが付いています。  

![Match](../media/content-understanding/match2.png) 

抽出するデータを検索するのに十分な情報が説明にない場合、各ファイルには **不一致**というラベルが付けられます。 不一致ファイルをクリックし **て、不一致** が発生した理由に関する詳細情報を表示できます。


## <a name="add-another-explanation"></a>別の説明を追加する

多くの場合、不一致は、指定された説明には、サービスの開始日の値を抽出して、ラベル付きファイルと一致させるために十分な情報が提供されなかったことを示しています。 編集または別の説明を追加する必要がある場合があります。

サンプルの場合は、[ *サービス開始日] の日付* が実際の値よりも前になることに注意してください。 サービスの開始日を識別するために、語句の説明を作成する必要があります。

1. [説明] セクションで、[ **新規**] を選択し、名前 (たとえば、 *プレフィックス文字列*) を入力します。
2. [種類] で、[ **語句リスト**] を選択します。
3. *のサービス開始日*を値として使用します。
4. **[保存]** を選択します。

    ![プレフィックス文字列](../media/content-understanding/prefix-string.png) 

## <a name="train-the-model-again"></a>モデルを再トレーニングする

説明を保存すると、トレーニングが再度開始されます。今回はサンプルの両方の説明を使用します。 ラベル付きのサンプルファイルからデータを抽出するために十分な情報がモデルにある場合は、各ファイルに **一致**するというラベルが付いています。 

ラベル付きファイルの **不一致** を再度受信した場合は、ドキュメントの種類を識別するためにモデルに詳細情報を提供するために別の説明を作成する必要があります。または、サンプルモデルに変更を加えることを検討してください。

## <a name="test-your-model"></a>モデルをテストする

ラベル付けされたサンプルファイルに一致するものがあれば、残りのラベルのないサンプルファイルでモデルをテストできるようになります。

1. モデルのホームページで、[ **テスト** ] タブをクリックします。 これにより、ラベルのないサンプルファイルでモデルが実行されます。
2. [ **テストファイル** ] の一覧に、モデルが必要な情報を抽出できるかどうかを示すサンプルファイルが表示されます。 この情報を使用して、ドキュメントを識別する際に、分類子の有効性を判断します。

    ![ファイルのテスト](../media/content-understanding/test-filies-extractor.png) 
