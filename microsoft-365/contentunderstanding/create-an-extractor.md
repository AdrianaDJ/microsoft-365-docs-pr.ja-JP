---
title: 抽出器を作成する (プレビュー)
ms.author: efrene
author: efrene
manager: pamgreen
ms.date: 8/1/2020
audience: admin
ms.topic: article
ms.service: ''
search.appverid: ''
localization_priority: None
ROBOTS: NOINDEX, NOFOLLOW
description: 抽出器を作成する方法について
ms.openlocfilehash: 64dede9f6613da82c65ca12c6c335a25301f5b9e
ms.sourcegitcommit: a3a5dc541b0c971608cc86ef480509c25a13ca60
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/10/2020
ms.locfileid: "46612764"
---
# <a name="create-an-extractor-preview"></a>抽出器を作成する (プレビュー)
> [!Note] 
> この記事の内容は、Project Cortex のプライベートプレビュー用です。 [詳細については、「Project Cortex](https://aka.ms/projectcortex)」を参照してください。

</br>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE4CL2G]

</br> 

特定のドキュメントの種類の識別と分類を自動化するために、分類子モデルを作成する前または作成した後で、必要に応じて、モデルに抽出器を追加して、これらのドキュメントから特定の情報を取得することもできます。 たとえば、ドキュメントライブラリに追加されたすべての*契約更新*ドキュメントを識別するだけでなく、ドキュメントライブラリの列として各ドキュメントの*サービスの開始日*も表示する必要がある場合があります。

抽出するドキュメント内の各エンティティに対して抽出器を作成する必要があります。 この例では、モデルによって識別される各*契約更新*ドキュメントの*サービス開始日*を抽出します。 すべての*契約更新*ドキュメントのドキュメントライブラリにビューを表示できるようにし、各ドキュメントのサービス開始日の値を示す列を追加します。

> [!Note]
> 抽出器を作成する前に、[サンプルファイルを追加](https://docs.microsoft.com/microsoft-365/contentunderstanding/create-a-classifier?view=o365-worldwide#add-your-example-files)する必要があります。これは、モデルをトレーニングして抽出する情報を識別するのに役立ちます。 分類子の作成に使用したのと同じサンプルファイルを使用します。


## <a name="name-your-extractor"></a>抽出器の名前

1. モデルのホームページで、[**作成とトレーニング**] [抽出] タイルの [[トレーニング] [**抽出**] をクリックします。
2. **新しいエンティティ抽出**画面で、[**新しい抽出器名**] フィールドに抽出器の名前を入力します。 たとえば、各契約更新文書からサービスの開始日を抽出する場合は、**サービスの開始日**に名前を付けることができます。
3. **[作成]** をクリックします。

## <a name="add-a-label"></a>ラベルを追加する

次の手順では、サンプルのトレーニングファイルで抽出する情報のラベルを作成します。

抽出器を作成すると、抽出器ページが開きます。このページには、サンプルファイルの一覧が表示されます。このページには、ビューアーに表示されるリストの最初のファイルが表示されます。

1. ビューアーで、ファイルから抽出するデータを選択します。 たとえば、*開始サービスの日付*を抽出する場合は、最初のファイル (*2019 年10月 14*日) に日付の値を強調表示します。 **[保存]** をクリックします。  [**ラベル**] 列の [ラベル付きの例] の一覧に、ファイルの値が表示されます。
2. [**次のファイル**] を選択して、ビューアーのリストで次のファイルを開きます。または、[**保存**] を選択して、**ラベル付きの例**のリストから別のファイルを選択することもできます。
3. ビューアーで手順1と手順2を繰り返し、ラベルを5つのファイルに保存するまでこれを実行します。

    ![詳細設定](../media/content-understanding/select-service-start-date.png) 


### <a name="add-a-negative-example"></a>負の例を追加する

分類子を作成するときに負の例のファイルを追加するのと同じように、抽出器には負の例を追加する必要があります。 この例では、サービスの開始日の値が含まれていないファイルを指定する必要があります。

1. **ラベル付きの例**のリストから、負の例を選択します。
2. ビューアーで、記事の上部にある [**ラベルなし**] を選択します。
3. **[保存]** をクリックします。
 
5つのファイルをラベル付けしたら、トレーニングに移動するように通知バナーが表示されます。 その他のドキュメントを選択したり、トレーニングを進めることができます。 

## <a name="add-an-explanation"></a>説明を追加する

この例では、エンティティ形式自体とそのバリエーションに関するヒントを提供する説明を作成します。この説明は、サンプルドキュメントに記載されている場合があります。 たとえば、日付値は次のようなさまざまな形式で指定できます。
- 10/14/2019
- 2019 年 10 月 14 日
- 2019年10月14日 (月)
 

*サービスの開始日*を特定するために、パターンの説明を作成することができます。

1. [説明] セクションで、[**新規**] を選択し、名前 (たとえば、 *Date*) を入力します。
2. [種類] で、[**パターンリスト**] を選択します。
3. 値については、サンプルファイルに表示される日付のバリエーションを指定する必要があります。 たとえば、0/00/0000 として表示される日付形式がある場合は、ドキュメントに表示される可能性のある次のようなバリエーションを入力します。
    - 0/0/0000
    - 0/00/0000
    - 00/0/0000
    - 00/00/0000
4. [**保存**] を選択します。


### <a name="use-the-explanation-library"></a>説明ライブラリを使用する

日付などの事柄についての説明を作成するには、すべてのバリエーションを手動で入力するよりも、説明ライブラリを使用する方がはるかに簡単です。 説明ライブラリは、あらかじめ用意された語句とパターンの説明のセットです。 ライブラリは、日付、電話番号、郵便番号など、一般的な語句やパターンリストのすべての書式を提供しようとします。 

サービスの*開始日*の例では、説明ライブラリの*日付*の事前構築された説明を使用する方が効率的です。

1. [**説明] セクション**で、* * [**新規**] を選択し、[**説明ライブラリから**] を選択します。
2. 説明ライブラリで、[**日付**] を選択します。 認識される日付のバリエーションをすべて表示できます。
3. **[追加]** を選択します。</br>

    ![説明ライブラリ](../media/content-understanding/explanation-library.png) 

4. [**説明の作成**] ページで、説明ライブラリからの*日付*情報がフィールドにオートフィルされます。 [**保存**] を選択します。</br>

    ![説明ライブラリ](../media/content-understanding/date-explanation-library.png) 

 
## <a name="train-the-model"></a>モデルをトレーニングする 

説明を保存すると、トレーニングが開始されます。 ラベル付けされたサンプルファイルからデータを抽出するのに十分な情報がモデルにある場合は、各ファイルに**一致**するというラベルが付いています。  

![説明ライブラリ](../media/content-understanding/match2.png) 

抽出するデータを検索するのに十分な情報が説明にない場合、各ファイルには**不一致**というラベルが付けられます。 不一致ファイルをクリックして、不一致が発生した理由に関する詳細情報を表示できます。


## <a name="add-another-explanation"></a>別の説明を追加する

多くの場合、不一致は、指定された説明には、サービスの開始日の値を抽出して、ラベル付きファイルと一致させるために十分な情報が提供されなかったことを示しています。 編集または別の説明を追加する必要がある場合があります。

この例では、「*サービス開始日*」というテキスト文字列は、常に実際の値よりも前になることに注意してください。 サービスの開始日を特定するために、語句の説明を作成することができます。

1. [説明] セクションで、[**新規**] を選択し、名前 (たとえば、*プレフィックス文字列*) を入力します。
2. [種類] で、[**語句リスト**] を選択します。
3. *のサービス開始日*を値として使用します。
4. [**保存**] を選択します。

    ![説明ライブラリ](../media/content-understanding/prefix-string.png) 


## <a name="train-the-model"></a>モデルをトレーニングする

説明を保存するとトレーニングが再度開始されます。今回は、この例の説明に従ってください。 ラベル付けされたサンプルファイルからデータを抽出するのに十分な情報がモデルにある場合は、各ファイルに**一致**するというラベルが付いています。 

ラベル付きファイルの**不一致**を再度受信した場合は、ドキュメントの種類を識別するためにモデルに詳細情報を提供するために別の説明を作成するか、既存のファイルに変更を加える必要があります。

## <a name="test-your-model"></a>モデルをテストする

ラベル付けされたサンプルファイルで一致するものを受信した場合、残りのラベルのないサンプルファイルでモデルをテストできるようになりました。

1. モデルのホームページで、[**テスト**] タブをクリックします。 これにより、ラベルのないサンプルファイルでモデルが実行されます。
2. [**テストファイル**] リストには、サンプルファイルが表示され、モデルで必要な情報を抽出できるかどうかが表示されます。 この情報を使用して、ドキュメントを識別する際に、分類子の有効性を判断することができます。

    ![ファイルのテスト](../media/content-understanding/test-filies-extractor.png) 

## <a name="see-also"></a>関連項目
  




